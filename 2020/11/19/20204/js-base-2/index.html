
<!DOCTYPE html>
<html class="html-loading">
		

<head>
	<meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <title>
    
      web基础-2-web api、开发环境、运行环境 | 陈立林的个人网站
    
  </title>
  <meta name="author" content="来者可追">
  <meta name="keywords" content="" />
  <meta name="description" content="" />
	<!-- favicon -->
  <link rel="shortcut icon" href="../../../../../img/favicon.ico">

  <!-- css -->
  
<link rel="stylesheet" href="../../../../../css/Annie.css">

  
  <!-- jquery -->
	
<script src="../../../../../plugin/jquery/jquery.min.js"></script>


<script>
    const CONFIG_BGIMAGE = {
      mode: 'normal',
      normalSrc: '../../../../../https:/source.unsplash.com/collection/954550/1920x1080',
      randomYouMax: 110,
      randomYouSrc: '../../../../../https:/sariay.github.io/Random-img/',
	  randomOtherSrc: '../../../../../https:/api.berryapi.net/?service=App.Bing.Images&day=-0',
	  preloaderEnable: false
    }
	
    const CONFIG_LEACLOUD_COUNT = {
      enable: false,
	  appId: 'AU8...',
	  appKey: '4cU...',
	  serverURLs: 'http' || ' '
    }
  </script>
<meta name="generator" content="Hexo 4.2.1"></head>
	<body>
		<!-- Preloader -->


<!-- header -->
<header class="fixbackground bg-pan-br">
	<div class="mask">
		<!-- motto -->
		<div class="h-body">	
			
				<div class="motto text-shadow-pop-left">
					<p class="content" id="motto-content">获取中...</p>
					<p>-<p>
					<p class="author" id="motto-author">Just a minute...</p>
				</div>
			
		</div>
		
		<!-- others: such as time... -->			
		<div class="h-footer">
			<a href="javascript:;" id="read-more" class="scroll-down">
				<span class="icon-anchor1 animation-scroll-down"></span>
			</a>
		</div>
	</div>
</header>

<div id="navigation-hide">
	<!-- Progress bar -->
	<div id="progress-bar"></div>

	<!-- Progress percent -->
	<div id="progress-percentage"><span>0.0%</span></div>

	<div class="toc-switch"><span class="switch-button">目录</span></div>

	<!-- Page title -->
	<p>
		
			「web基础-2-web api、开发环境、运行环境」
		
	</p>

	
	

	<!-- Nav trigger for navigation-H-->
	<a class="nav-trigger"><span></span></a>
</div>

<!-- Navigation in div(id="navigation-H") -->
<nav class="nav-container" id="cd-nav">
	<div class="nav-header">
		<span class="logo"> 
			<img src="../../../../../img/logo.png">
		</span>
		<a href="javascript:;" class="nav-close"></a>
	</div>
	
	<div class="nav-body">
		<ul id="global-nav">
	
		<li class="menu-home">
			<a href="../../../../../index.html" class="menu-item-home" target="_blank">主页</a>
		</li>
		
	
		<li class="menu-archive">
			<a href="../../../../../archives" class="menu-item-archive" target="_blank">归档</a>
		</li>
		
	
		<li class="menu-categories">
			<a href="../../../../../categories" class="menu-item-categories" target="_blank">分类</a>
		</li>
		
	
		<li class="menu-tags">
			<a href="../../../../../tags" class="menu-item-tags" target="_blank">标签</a>
		</li>
		
	
		<li class="menu-about">
			<a href="../../../../../about" class="menu-item-about" target="_blank">关于</a>
		</li>
		
	
		<li class="menu-gallery">
			<a href="../../../../../gallery" class="menu-item-gallery" target="_blank">相册</a>
		</li>
		
	

	
		<li class="menu-search">
			<a href="javascript:;" class="popup-trigger">搜索</a>
		</li>
	
</ul>
	</div>
	
	<div class="nav-footer">
		<ul id="global-social">
	
		<li>
			<a href="../../../../../http:/github.com/" target="_blank">
				<span class="icon-one"><span class="path1"></span><span class="path2"></span></span>
			</a>
		</li>
	
		<li>
			<a href="../../../../../http:/github.com/" target="_blank">
				<span class="icon-zhihu"></span>
			</a>
		</li>
	
		<li>
			<a href="../../../../../http:/github.com/" target="_blank">
				<span class="icon-github"></span>
			</a>
		</li>
	
		<li>
			<a href="../../../../../http:/github.com/" target="_blank">
				<span class="icon-sina-weibo "></span>
			</a>
		</li>
	
		<li>
			<a href="../../../../../http:/github.com/" target="_blank">
				<span class="icon-pinterest2"></span>
			</a>
		</li>
	
		<li>
			<a href="../../../../../http:/github.com/" target="_blank">
				<span class="icon-instagram"></span>
			</a>
		</li>
	
		<li>
			<a href="../../../../../http:/github.com/" target="_blank">
				<span class="icon-twitter"></span>
			</a>
		</li>
	
		<li>
			<a href="../../../../../atom.xml" target="_blank">
				<span class="icon-rss"></span>
			</a>
		</li>
			
</ul>

	</div>
</nav>
			
		<!--main-->
		<main>
			<!--
	时间：2018-11-17
	描述：
		插件名称：katelog.min.js
		插件作者：KELEN
		插件来源: https://github.com/KELEN/katelog
-->

	
		<div class="layout-toc">
			<div id="layout-toc">
				<div class="k-catelog-list" id="catelog-list" data-title="文章目录"></div>
			</div>
		</div>

		
<script src="../../../../../plugin/toc/katelog.min.js"></script>


		
	 

<div class="layout-post">
	<div id="layout-post">
		<div class="article-title">
			
	<a href="" itemprop="url">
		web基础-2-web api、开发环境、运行环境
	</a>

		</div>

		<div class="article-meta">
			<span>
				<i class="icon-calendar1"></i>
				
				




	更新于

	<a href="" itemprop="url">
		<time datetime="2020-11-19T02:05:25.000Z" itemprop="dateUpdated">
	  		2021-04-23
	  </time>
	</a> 



			</span>
			<span>
				
	<i class="icon-price-tags"></i>
	
		<a href="../../../../../tags/javascript/" class=" ">
			javascript
		</a>
	
		
			</span>
			
			



		</div>

		<div class="article-content" id="article-content">
			<p>DOM、BOM、时间、ajax、存储、开发环境、运行环境</p>
<p>慕课网视频地址：<a href="https://coding.imooc.com/class/400.html" target="_blank" rel="noopener">https://coding.imooc.com/class/400.html</a></p>
<a id="more"></a>
<h1 id="第九章、DOM"><a href="#第九章、DOM" class="headerlink" title="第九章、DOM"></a>第九章、DOM</h1><h2 id="9-1、从js基础知识到-JS-Web-API"><a href="#9-1、从js基础知识到-JS-Web-API" class="headerlink" title="9-1、从js基础知识到 JS Web API"></a>9-1、从js基础知识到 JS Web API</h2><p><img src="/images/20204/web-api-01.png" alt="webapi"></p>
<p>有哪些内容？</p>
<ul>
<li>DOM</li>
<li>BOM</li>
<li>事件绑定</li>
<li>ajax</li>
<li>存储</li>
</ul>
<h2 id="9-2、DOM的本质"><a href="#9-2、DOM的本质" class="headerlink" title="9-2、DOM的本质"></a>9-2、DOM的本质</h2><p>前言：</p>
<p><img src="/images/20204/web-api-02.png" alt="前言"></p>
<p>DOM操作 （Document Object Modle）</p>
<p><strong>题目</strong></p>
<p><img src="/images/20204/web-api-03.png" alt="前言"></p>
<p><img src="/images/20204/web-api-04.png" alt="前言"></p>
<p><strong>知识点</strong></p>
<p><img src="/images/20204/web-api-05.png" alt="前言"></p>
<p><strong>DOM本质</strong></p>
<p><img src="/images/20204/web-api-06.png" alt="前言"></p>
<p>XML是一种可扩展的标记性语言。</p>
<p>HTML始终特定的XML，规定了某些名称。</p>
<p>DOM本质是一棵树。</p>
<h2 id="9-3、DOM节点操作"><a href="#9-3、DOM节点操作" class="headerlink" title="9-3、DOM节点操作"></a>9-3、DOM节点操作</h2><p><strong>获取DOM节点</strong></p>
<p><img src="/images/20204/web-api-07.png" alt="前言"></p>
<p>代码演示：</p>
<p>html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>dom 演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">            <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="css">            <span class="selector-class">.red</span> &#123;</span></span><br><span class="line"><span class="undefined">                color: red;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>一段文字 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://img3.mukewang.com/5a9fc8070001a82402060220-100-100.jpg"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dom-3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'div1'</span>, div1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> divList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>) <span class="comment">// 集合</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'divList.length'</span>, divList.length)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'divList[1]'</span>, divList[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> containerList = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'container'</span>) <span class="comment">// 集合</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'containerList.length'</span>, containerList.length)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'containerList[1]'</span>, containerList[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'pList'</span>, pList)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>)</span><br><span class="line"><span class="keyword">const</span> p1 = pList[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// property 形式</span></span><br><span class="line">p1.style.width = <span class="string">'100px'</span></span><br><span class="line"><span class="built_in">console</span>.log( p1.style.width )</span><br><span class="line">p1.className = <span class="string">'red'</span></span><br><span class="line"><span class="built_in">console</span>.log( p1.className )</span><br><span class="line"><span class="built_in">console</span>.log(p1.nodeName)</span><br><span class="line"><span class="built_in">console</span>.log(p1.nodeType) <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// attribute</span></span><br><span class="line">p1.setAttribute(<span class="string">'data-name'</span>, <span class="string">'imooc'</span>)</span><br><span class="line"><span class="built_in">console</span>.log( p1.getAttribute(<span class="string">'data-name'</span>) )</span><br><span class="line">p1.setAttribute(<span class="string">'style'</span>, <span class="string">'font-size: 50px;'</span>)</span><br><span class="line"><span class="built_in">console</span>.log( p1.getAttribute(<span class="string">'style'</span>) )</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 9-4、DOM结构操作</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">代码演示：</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">html:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>html</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div id=<span class="string">"div1"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"container"</span>&gt;</span><br><span class="line">            &lt;p id=<span class="string">"p1"</span>&gt;一段文字 <span class="number">1</span>&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;p&gt;一段文字 2&lt;/</span>p&gt;</span><br><span class="line">            &lt;p&gt;一段文字 <span class="number">3</span>&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">        &lt;div id=<span class="string">"div2"</span>&gt;</span><br><span class="line">            &lt;img src=<span class="string">"https://img3.mukewang.com/5a9fc8070001a82402060220-100-100.jpg"</span>/&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;ul id="list"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/u</span>l&gt;</span><br><span class="line"></span><br><span class="line">        &lt;script src=<span class="string">"./dom-3.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    &lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure>
<p>js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>)</span><br><span class="line"><span class="keyword">const</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">'div2'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新建节点</span></span><br><span class="line"><span class="keyword">const</span> newP = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>)</span><br><span class="line">newP.innerHTML = <span class="string">'this is newP'</span></span><br><span class="line"><span class="comment">// 插入节点</span></span><br><span class="line">div1.appendChild(newP)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动节点</span></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">'p1'</span>)</span><br><span class="line">div2.appendChild(p1)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取父元素</span></span><br><span class="line"><span class="built_in">console</span>.log( p1.parentNode )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取子元素列表</span></span><br><span class="line"><span class="keyword">const</span> div1ChildNodes = div1.childNodes</span><br><span class="line"><span class="built_in">console</span>.log( div1.childNodes )</span><br><span class="line"><span class="keyword">const</span> div1ChildNodesP = <span class="built_in">Array</span>.prototype.slice.call(div1.childNodes).filter(<span class="function"><span class="params">child</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (child.nodeType === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'div1ChildNodesP'</span>, div1ChildNodesP)</span><br><span class="line"></span><br><span class="line">div1.removeChild( div1ChildNodesP[<span class="number">0</span>] )</span><br></pre></td></tr></table></figure>
<h2 id="9-5、DOM性能"><a href="#9-5、DOM性能" class="headerlink" title="9-5、DOM性能"></a>9-5、DOM性能</h2><p><img src="/images/20204/web-api-08.png" alt="DOM性能"></p>
<ul>
<li>DOM查询做缓存</li>
</ul>
<p><img src="/images/20204/web-api-09.png" alt="DOM查询做缓存"></p>
<ul>
<li>将频繁操作改为一次性操作</li>
</ul>
<p><img src="/images/20204/web-api-10.png" alt="将频繁操作改为一次性操作"></p>
<p>代码演示：</p>
<p>html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>一段文字 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://img3.mukewang.com/5a9fc8070001a82402060220-100-100.jpg"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dom-3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = <span class="built_in">document</span>.getElementById(<span class="string">'list'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个文档片段，此时还没有插入到 DOM 结构中</span></span><br><span class="line"><span class="keyword">const</span> frag = <span class="built_in">document</span>.createDocumentFragment()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i  = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>)</span><br><span class="line">    li.innerHTML = <span class="string">`List item <span class="subst">$&#123;i&#125;</span>`</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 先插入文档片段中</span></span><br><span class="line">    frag.appendChild(li)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 都完成之后，再统一插入到 DOM 结构中</span></span><br><span class="line">list.appendChild(frag)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(list)</span><br></pre></td></tr></table></figure>
<h2 id="9-6、问题解答"><a href="#9-6、问题解答" class="headerlink" title="9-6、问题解答"></a>9-6、问题解答</h2><ul>
<li>DOM是哪种数据结构</li>
</ul>
<blockquote>
<p>DOM树</p>
</blockquote>
<ul>
<li>DOM操作常用API</li>
</ul>
<blockquote>
<p>DOM节点操作、DOM结构操作</p>
</blockquote>
<ul>
<li>property和attribute的区别</li>
</ul>
<p><img src="/images/20204/web-api-11.png" alt="property和attribute的区别"></p>
<ul>
<li>一次性插入多个节点，考虑性能。</li>
</ul>
<blockquote>
<p>如上一节</p>
</blockquote>
<h1 id="第十章、BOM操作"><a href="#第十章、BOM操作" class="headerlink" title="第十章、BOM操作"></a>第十章、BOM操作</h1><h2 id="10-1、BOM操作（Browser-Object-Model）"><a href="#10-1、BOM操作（Browser-Object-Model）" class="headerlink" title="10-1、BOM操作（Browser Object Model）"></a>10-1、BOM操作（Browser Object Model）</h2><p>大部分都是一些简单粗暴的api</p>
<p><strong>题目</strong></p>
<ul>
<li>如何识别浏览器的类型</li>
<li>分析拆解url各个部分</li>
</ul>
<p><strong>知识点</strong></p>
<ul>
<li>navigator</li>
<li>screen</li>
<li>location</li>
<li>history</li>
</ul>
<p>nvigation 和 screen:</p>
<p><img src="/images/20204/web-api-12.png" alt="nvigation 和 screen"></p>
<p>location和history:</p>
<p><img src="/images/20204/web-api-13.png" alt="location和history:"></p>
<h1 id="第十一章、事件"><a href="#第十一章、事件" class="headerlink" title="第十一章、事件"></a>第十一章、事件</h1><h2 id="11-1、事件绑定和事件冒泡"><a href="#11-1、事件绑定和事件冒泡" class="headerlink" title="11-1、事件绑定和事件冒泡"></a>11-1、事件绑定和事件冒泡</h2><p><strong>题目</strong></p>
<ul>
<li>编写一个通用的事件监听函数</li>
</ul>
<blockquote>
<p>如下</p>
</blockquote>
<ul>
<li>描述事件冒泡的流程</li>
</ul>
<blockquote>
<p>如下</p>
</blockquote>
<ul>
<li>无限下拉的图片列表，如何监听每个图片的点击</li>
</ul>
<blockquote>
<p>（1）、事件代理；（2）、用e.target获取触发元素；（3）、通过matches来判断是否触发元素。</p>
</blockquote>
<p><strong>知识点</strong></p>
<ul>
<li>事件绑定</li>
<li>事件冒泡</li>
<li>事件代理</li>
</ul>
<p><strong>事件绑定</strong></p>
<p><img src="/images/20204/web-api-14.png" alt="事件绑定:"></p>
<p>通用的事件绑定函数：</p>
<p>html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span>一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>普通绑定，js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通用的事件绑定函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, fn</span>) </span>&#123;</span><br><span class="line">    elem.addEventListener(type, fn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通绑定</span></span><br><span class="line"><span class="keyword">const</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>)</span><br><span class="line">bindEvent(btn1, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123; <span class="comment">//不能使用箭头函数，因为箭头函数没有独立作用域，下面就不能用this</span></span><br><span class="line">    <span class="comment">// console.log(event.target) // 获取触发的元素</span></span><br><span class="line">    event.preventDefault() <span class="comment">// 阻止默认行为。如果点击的是链接，那么加了这个，他就不会跳转</span></span><br><span class="line">    alert(<span class="keyword">this</span>.innerHTML)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>事件冒泡</strong></p>
<ul>
<li>基于DOM树形结构</li>
<li>元素的事件，会向上冒泡，在他的父级元素也能监听到这个事件。</li>
<li>应用场景：代理。代理的应用，就是基于事件冒泡的机制，才能使用的。</li>
</ul>
<p>代码演示，html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span>一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span>激活<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p2"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p3"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p4"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p5"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"p6"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="built_in">document</span>.getElementById(<span class="string">'p1'</span>)</span><br><span class="line">bindEvent(p1, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">    event.stopPropagation() <span class="comment">// 阻止冒泡。可以注释这一行试一下。防止body接收到事件。</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'激活'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> body = <span class="built_in">document</span>.body</span><br><span class="line">bindEvent(body, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'取消'</span>)</span><br><span class="line">    <span class="comment">// console.log(event.target)</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&lt;!--测试冒泡顺序--&gt;</span><br><span class="line"><span class="keyword">const</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">'div2'</span>)</span><br><span class="line">bindEvent(div2, <span class="string">'click'</span>, event =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'div2 clicked'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(event.target)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="2、事件代理"><a href="#2、事件代理" class="headerlink" title="2、事件代理"></a>2、事件代理</h2><p>代理绑定html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div3"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a4<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>加载更多...<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>代理绑定js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> div3 = <span class="built_in">document</span>.getElementById(<span class="string">'div3'</span>)</span><br><span class="line">bindEvent(div3, <span class="string">'click'</span>, <span class="string">'a'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123; <span class="comment">//不能使用箭头函数，因为箭头函数没有独立作用域，下面就不能用this</span></span><br><span class="line"><span class="comment">// 如果用箭头函数，可以用 event.target.innerHTML</span></span><br><span class="line">    event.preventDefault()</span><br><span class="line">    alert(<span class="keyword">this</span>.innerHTML)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>代理绑定：兼容普通绑定和代理绑定。有selector就是代理绑定。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem, type, selector, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (fn == <span class="literal">null</span>) &#123;</span><br><span class="line">        fn = selector</span><br><span class="line">        selector = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    elem.addEventListener(type, event =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> target = event.target</span><br><span class="line">        <span class="keyword">if</span> (selector) &#123;</span><br><span class="line">            <span class="comment">// 代理绑定</span></span><br><span class="line">            <span class="keyword">if</span> (target.matches(selector)) &#123;  <span class="comment">// 判断一个元素，是不是符合选择器</span></span><br><span class="line">               </span><br><span class="line">                fn.call(target, event) <span class="comment">// this需要是触发的元素。</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 普通绑定</span></span><br><span class="line">            fn.call(target, event)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>事件代理的好处：</p>
<ul>
<li>代码简洁</li>
<li>减少浏览器内存占用</li>
<li>但是不要滥用 ：不要为了用代理而用代理</li>
</ul>
<h1 id="第十二章、ajax"><a href="#第十二章、ajax" class="headerlink" title="第十二章、ajax"></a>第十二章、ajax</h1><h2 id="12-1、XMLHttpRequest"><a href="#12-1、XMLHttpRequest" class="headerlink" title="12-1、XMLHttpRequest"></a>12-1、XMLHttpRequest</h2><p>现在已经没有纯静态的网页了。</p>
<p><strong>题目</strong></p>
<ul>
<li>手写一个简易的ajax</li>
<li>跨域的常用实现方式</li>
</ul>
<p><strong>知识点</strong></p>
<ul>
<li>XMLHttpRequest</li>
<li>状态码</li>
<li>跨域：同源策略，跨域解决方案</li>
</ul>
<p><strong>XMLHttpRequest</strong></p>
<p><img src="/images/20204/web-api-15.png" alt="XMLHttpRequest:"></p>
<p>js实现：GET请求</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest() <span class="comment">//这是个class,初始化一个实例</span></span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'/data/test.json'</span>, <span class="literal">true</span>) <span class="comment">//false :同步请求；true:异步请求，防止卡顿。先open出来。变化的时候，触发下方函数。</span></span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// console.log(</span></span><br><span class="line">            <span class="comment">//     JSON.parse(xhr.responseText)</span></span><br><span class="line">            <span class="comment">// )</span></span><br><span class="line">            alert(xhr.responseText)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status === <span class="number">404</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'404 not found'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">xhr.send(<span class="literal">null</span>) <span class="comment">// get请求，不用发送数据，可以发送null</span></span><br></pre></td></tr></table></figure>
<p>js实现：POST请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">xhr.open(<span class="string">'POST'</span>, <span class="string">'/login'</span>, <span class="literal">false</span>)</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// console.log(</span></span><br><span class="line">            <span class="comment">//     JSON.parse(xhr.responseText)</span></span><br><span class="line">            <span class="comment">// )</span></span><br><span class="line">            alert(xhr.responseText)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status === <span class="number">404</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'404 not found'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> postData=&#123;</span><br><span class="line">    userName:<span class="string">'zhangsan'</span>,</span><br><span class="line">    password:<span class="string">'123456'</span></span><br><span class="line">&#125;</span><br><span class="line">xhr.send(<span class="built_in">JSON</span>.stringify(postData))</span><br></pre></td></tr></table></figure>
<p><strong>xhr.readyState</strong></p>
<p><img src="/images/20204/web-api-16.png" alt="readyState:"></p>
<p>我们只需要<code>readyState===4</code>，其他的都拿不到<code>xhr.responseText</code></p>
<p><strong>xhr.status</strong></p>
<p><img src="/images/20204/web-api-17.png" alt="status:"></p>
<h2 id="12-2、同源策略和跨域"><a href="#12-2、同源策略和跨域" class="headerlink" title="12-2、同源策略和跨域"></a>12-2、同源策略和跨域</h2><p><strong>什么是跨域（同源策略）</strong></p>
<p><img src="/images/20204/web-api-18.png" alt="同源策略"></p>
<p><strong>加载图片、css、js可无视同源策略</strong></p>
<p><img src="/images/20204/web-api-19.png" alt="加载图片、css、js可无视同源策略"></p>
<p><img src="/images/20204/web-api-20.png" alt="加载图片、css、js可无视同源策略"></p>
<p><strong>跨域</strong></p>
<p><img src="/images/20204/web-api-21.png" alt="跨域"></p>
<h2 id="12-3、jsonp和cors"><a href="#12-3、jsonp和cors" class="headerlink" title="12-3、jsonp和cors"></a>12-3、jsonp和cors</h2><p><strong>JSONP</strong></p>
<p><img src="/images/20204/web-api-22.png" alt="JSONP"></p>
<p>那么：</p>
<p><img src="/images/20204/web-api-23.png" alt="JSONP"></p>
<p>简单展示：</p>
<p><img src="/images/20204/web-api-24.png" alt="JSONP"></p>
<p>上述代码，返回的值会调用函数，实现跨域。</p>
<p>代码演示：</p>
<p>html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.abc = <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(data)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://localhost:8002/jsonp.js?username=xxx&amp;callback=abc"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">abc(</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'xxx'</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>上述代码，通过script标签告诉后端，返回abc,</p>
<p><strong>jQuery实现jsonp</strong></p>
<p><img src="/images/20204/web-api-25.png" alt="jQuery实现jsonp"></p>
<ul>
<li><p>上述代码中，url地址相当于<code>&lt;script&gt;</code>标签中的地址；dataType:jsonp,表明不是一个普通的请求，而是一个jsonp请求。</p>
</li>
<li><p>普通的请求使用 <code>XMLHttpRequest</code>，jsonp使用script标签，</p>
</li>
<li><p>callback，相当于<code>&lt;script&gt;</code>标签里src里面的<code>callback=xxx</code>,</p>
</li>
<li><p>success，等于一个函数，相当于window.xxx()的函数;</p>
</li>
</ul>
<p>jQuery做了封装，但实际原理，和上面我们用<code>script</code>标签直接写，是一样的。</p>
<blockquote>
<p>关键：1、<code>script</code>标签可以实现跨域；2、服务端返回时可以拼接任何内容。</p>
</blockquote>
<h2 id="12-4、问题解答"><a href="#12-4、问题解答" class="headerlink" title="12-4、问题解答"></a>12-4、问题解答</h2><ul>
<li>手写简易ajax:</li>
</ul>
<p>1、非常简易的方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'/data/test.json'</span>, <span class="literal">true</span>)</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// console.log(</span></span><br><span class="line">            <span class="comment">//     JSON.parse(xhr.responseText)</span></span><br><span class="line">            <span class="comment">// )</span></span><br><span class="line">            alert(xhr.responseText)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status === <span class="number">404</span>) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'404 not found'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">xhr.send(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure>
<p>2、考虑扩展的方式，添加Promise</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">        xhr.open(<span class="string">'GET'</span>, url, <span class="literal">true</span>)</span><br><span class="line">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">                    resolve(</span><br><span class="line">                        <span class="built_in">JSON</span>.parse(xhr.responseText)</span><br><span class="line">                    )</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (xhr.status === <span class="number">404</span> || xhr.status === <span class="number">500</span>) &#123;</span><br><span class="line">                    reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'404 not found'</span>))</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        xhr.send(<span class="literal">null</span>)  <span class="comment">// 这一行不要忘了</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url = <span class="string">'/data/test.json'</span></span><br><span class="line">ajax(url)</span><br><span class="line">.then(<span class="function"><span class="params">res</span> =&gt;</span> <span class="built_in">console</span>.log(res))</span><br><span class="line">.catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.error(err))</span><br></pre></td></tr></table></figure>
<p><strong>小结</strong></p>
<ul>
<li>XMLHttpRequest</li>
<li>状态码：readyState status</li>
<li>跨域：同源策略（如何绕过），JSONP，CORS</li>
</ul>
<h2 id="12-6、ajax的常用插件"><a href="#12-6、ajax的常用插件" class="headerlink" title="12-6、ajax的常用插件"></a>12-6、ajax的常用插件</h2><ul>
<li>jQuery:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>fetch</li>
</ul>
<p>更多详情：<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API</a></p>
<ul>
<li>axios</li>
</ul>
<p>框架中用的比较多，也可以单独使用，同时兼容nodejs。</p>
<p>是对XMLHttpRequest 的封装。</p>
<p>支持pormise api</p>
<p>更多详情：<a href="http://axios-js.com/docs/" target="_blank" rel="noopener">http://axios-js.com/docs/</a></p>
<h1 id="第十三章、存储"><a href="#第十三章、存储" class="headerlink" title="第十三章、存储"></a>第十三章、存储</h1><h2 id="13-1、cookie"><a href="#13-1、cookie" class="headerlink" title="13-1、cookie"></a>13-1、cookie</h2><p><strong>cookie</strong></p>
<p><img src="/images/20204/web-api-26.png" alt="cookie"></p>
<p><strong>localStorage和sessionStorage</strong></p>
<p><img src="/images/20204/web-api-27.png" alt="localStorage和sessionStorage"></p>
<p><img src="/images/20204/web-api-28.png" alt="localStorage和sessionStorage"></p>
<p><strong>区别</strong></p>
<p><img src="/images/20204/web-api-29.png" alt="localStorage和sessionStorage"></p>
<h1 id="第十四章、http"><a href="#第十四章、http" class="headerlink" title="第十四章、http"></a>第十四章、http</h1><h2 id="14-1、http问题"><a href="#14-1、http问题" class="headerlink" title="14-1、http问题"></a>14-1、http问题</h2><ul>
<li>http 常见的状态码有哪些</li>
<li>http 常见的 header 有哪些</li>
<li>什么事 Restful API</li>
<li>描述一下 http 的缓存机制（重要）</li>
</ul>
<h2 id="14-2、14-3：http-状态码"><a href="#14-2、14-3：http-状态码" class="headerlink" title="14-2、14-3：http 状态码"></a>14-2、14-3：http 状态码</h2><p><strong>- 状态码分类 、常见状态码</strong></p>
<ul>
<li>1xx 服务器收到请求</li>
<li>2xx 请求成功</li>
<li>3xx 重定向<ul>
<li>301 永久重定向（配合 location ，浏览器自动处理），浏览器会记住这个网址，下次访问的时候，会自动重定向，如网站更换域名，</li>
<li>302 临时重定向（配合 location ，浏览器自动处理），下次还是会访问原页面，如登录</li>
<li>如百度搜索跳转的链接，status是302，responese 里面会返回 Location，</li>
<li>304 资源未被修改  （可以使用缓存）</li>
</ul>
</li>
<li>4xx 客户端错误<ul>
<li>404 资源未找到</li>
<li>403 没有权限</li>
</ul>
</li>
<li>5xx 服务端错误<ul>
<li>500 服务器错误</li>
<li>504 网关超时</li>
</ul>
</li>
</ul>
<p><strong>- 关于协议和规范</strong></p>
<p>就是一个约定，要求大家都跟着执行，不要违反规范，如IE浏览器</p>
<h2 id="14-4、什么是-Restful-API"><a href="#14-4、什么是-Restful-API" class="headerlink" title="14-4、什么是 Restful - API"></a>14-4、什么是 Restful - API</h2><p>http methods</p>
<p><strong>传统的 methods</strong></p>
<p>大概十年前，互联网不发达，主要的就是pc网站，浏览一下数据，提交个表单</p>
<ul>
<li>get 获取服务器数据</li>
<li>post 向服务器提交操作</li>
<li>简单的网页功能，就这两个操作</li>
</ul>
<p><strong>现在的 methods</strong></p>
<ul>
<li>get 获取数据</li>
<li>post 新建数据</li>
<li>patch/put 更新数据</li>
<li>delete 删除数据</li>
</ul>
<p>无论两个还是4个，他们都是一个规范， 若你不按照规范，也没办法</p>
<p><strong>REstful API</strong></p>
<ul>
<li>是一种新的 API 设计方法（早已推广使用）</li>
<li>传统 API 设计：把每个 url 当作一个功能</li>
<li>Resetul API 设计：把每个url 当作一个唯一的资源</li>
</ul>
<p><strong>如何设计成一个资源？</strong></p>
<ul>
<li>尽量不用 url 参数<ul>
<li>传统 API 设计：/api/list?pageIndex=2<ul>
<li>像是一个功能，前面像一个函数，后面传入参数</li>
</ul>
</li>
<li>Restful API 设计：/api/list/2<ul>
<li>就是一个唯一资源标识</li>
</ul>
</li>
</ul>
</li>
<li>用 method 表示操作类型<ul>
<li>传统 API 设计<ul>
<li>post 请求 /api/create-blog</li>
<li>post 请求 /api/update-blog?id=100</li>
<li>get 请求  /api/get-blog?id=100</li>
</ul>
</li>
<li>Restful API 设计<ul>
<li>post 请求 /api/blog （post表示要创建数据）</li>
<li>post 请求 /api/blog/100 （post 表示更新数据）</li>
<li>get 请求  /api/blog/100   （get 表示获取数据）</li>
<li>根据 method 判定操作类型</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>被问到 Restful API 时，<strong>先说 传统 API 设计：把每个 url 当作一个功能,Resetul API 设计：把每个url 当作一个唯一的资源</strong> ，然后拿上面的例子做一个介绍，需要说出来<strong>尽量不用 url 参数,用 method 表示操作类型</strong>，以及四个常用的methods <strong>get post patch/put delete</strong></p>
<h2 id="14-5-http-headers"><a href="#14-5-http-headers" class="headerlink" title="14-5 http headers"></a>14-5 http headers</h2><p>开放性问题。http 请求本质上是，前端发请求到服务端，然后服务端返回结果。请求的时候有默认参数，和 Request Headers ，返回的时候有数据，和Response Headers。无论是请求和返回，都有headers。</p>
<p><strong>常见的 Request Headers</strong></p>
<ul>
<li>Accept 浏览器可接收的数据格式</li>
<li>Accept-Encoding 浏览器可接受的压缩算法，如 gzip 等。（压缩后浏览器可解压，传输快）</li>
<li>Accept-Language 浏览器可接受的语言，如 zh-CN</li>
<li>Connection:keep-alive 一次 TCP 连接重复使用</li>
<li>Cookie 每次请求，浏览器自己带</li>
<li>Host 请求的域名</li>
<li>User-Agent （简称 UA ）浏览器信息，后端可以分析浏览器类型、手机系统等</li>
<li>Content-type 发送数据的格式，如 application/json</li>
<li>……</li>
</ul>
<p><img src="/images/20204/jsreview-65.png" alt="Request Headers"></p>
<p><strong>常见的 Response Headers</strong></p>
<ul>
<li>Content-type 返回的数据格式，如 application/json</li>
<li>Content-length 返回数据的大小，多少字节</li>
<li>Content-Encoding 返回数据的压缩算法，如 gzip，</li>
<li>Set-Cookie 若服务端改cookie，用这个改</li>
<li>……</li>
</ul>
<p><img src="/images/20204/jsreview-66.png" alt="Response Headers"></p>
<p><strong>自定义 header</strong></p>
<p>如使用 axios 请求。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">headers:&#123;<span class="string">'X-Requested-With'</span>:<span class="string">'XMLHttpRequest'</span>&#125;</span><br></pre></td></tr></table></figure>
<p>如有些接口需要加密钥。或简单的权限验证如 身份信息、登陆信息</p>
<p><strong>缓存相关 header</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- Cache-Control     Expires</span><br><span class="line">- Last - Modified   If-Modified-Since</span><br><span class="line">- Etag              If-None-Match</span><br></pre></td></tr></table></figure>
<h2 id="14-6、http为何需要缓存"><a href="#14-6、http为何需要缓存" class="headerlink" title="14-6、http为何需要缓存"></a>14-6、http为何需要缓存</h2><p><strong>缓存的介绍</strong></p>
<p>把没必要重新获取的东西，存起来。</p>
<p>为了让页面加载更快，cpu可以做到毫秒级别，然而网络请求很慢</p>
<p>一般静态资源需要缓存 js css img</p>
<p><strong>http 缓存策略 （强制缓存、协商缓存）</strong></p>
<p><strong>刷新操作方式，对缓存的影响</strong></p>
<h2 id="14-7-cache-control-–-http强制缓存"><a href="#14-7-cache-control-–-http强制缓存" class="headerlink" title="14-7 cache-control –  http强制缓存"></a>14-7 cache-control –  http强制缓存</h2><p><strong>catch-control</strong></p>
<ul>
<li>Response Headers中，服务端来控制</li>
<li>控制强制缓存的逻辑，</li>
<li>例如 Cache-Control：max-age=31536000 （单位是秒）</li>
</ul>
<p>如果服务端设置了cache-control，再次请求不经过网络，加载更快。</p>
<p><img src="/images/20204/jsreview-67.png" alt="http强制缓存"></p>
<p>如果缓存过期了 ，则会再次请求服务端，重新设置过期时间。</p>
<p><strong>catch-control 的值</strong></p>
<ul>
<li>max-age 设置最大过期时间</li>
<li>no-cache 不使用本地的强制缓存，正常向服务端请求（不关心服务端如何处理）</li>
<li>no-store 不使用本地缓存，也不使用服务端缓存</li>
<li>private 只允许最终用户做缓存，如电脑、手机（影响不大）</li>
<li>public 允许路由或代理做缓存（影响不大）</li>
</ul>
<p><strong>关于 Expires</strong></p>
<ul>
<li>同在 Response Headers 中，</li>
<li>同为控制缓存过期</li>
<li>已经被 Cache-Control 代替 （Http1.1）</li>
</ul>
<h2 id="14-7-http协商缓存"><a href="#14-7-http协商缓存" class="headerlink" title="14-7 http协商缓存"></a>14-7 http协商缓存</h2><ul>
<li>服务端缓存策略（<strong>会判断文件是否需要缓存在客户端，而非缓存到服务端</strong>）</li>
<li>服务端判断客户端资源，是否和服务端资源一样</li>
<li>一致则返回 304 ，否则返回 200 和最新的资源</li>
</ul>
<p><img src="/images/20204/jsreview-68.png" alt="http协商缓存"></p>
<p><strong>资源标识</strong></p>
<ul>
<li>在 Response Headers 中，有两种</li>
<li>Last-Modified 资源的最后修改时间</li>
</ul>
<p>if-modified-since 的参数，就是 last-Modified 返回的值。服务端会对比最后修改时间。</p>
<p><img src="/images/20204/jsreview-69.png" alt="http协商缓存"></p>
<ul>
<li>Etag 资源的唯一标识（一个字符串，类似人类的指纹）</li>
</ul>
<p>if-none-match的值 就是 Etag返回的值 </p>
<p><img src="/images/20204/jsreview-70.png" alt="http协商缓存"></p>
<p>示例：</p>
<p><img src="/images/20204/jsreview-71.png" alt="示例"></p>
<p><strong>总结</strong></p>
<ul>
<li>Etag 的优先级更高。</li>
<li>因为Last-Modified只能定位到秒级</li>
<li>如果资源被重复生成，而内容不变，则 Etag 更精确</li>
</ul>
<p><img src="/images/20204/jsreview-72.png" alt="总结"></p>
<h2 id="14-9-刷新页面对-http-缓存的影响"><a href="#14-9-刷新页面对-http-缓存的影响" class="headerlink" title="14-9 刷新页面对 http 缓存的影响"></a>14-9 刷新页面对 http 缓存的影响</h2><p><strong>三种刷新操作</strong></p>
<ul>
<li>正常操作：地址栏输入 url ，跳转链接，前进后退等<ul>
<li>强制缓存有效，协商缓存有效</li>
</ul>
</li>
<li>手动刷新：F5、点击刷新按钮、右击菜单刷新<ul>
<li>强制缓存失效，协商缓存有效</li>
</ul>
</li>
<li>强制刷新：ctrl + F5 / shift+commomd+R <ul>
<li>强制缓存失效，协商缓存失效</li>
</ul>
</li>
</ul>
<p><strong>小结</strong></p>
<ul>
<li>强制缓存 Cache-Control</li>
<li>协商缓存 Last-Modified 和 Etag ，304 状态码</li>
<li>自己画完整的流程图</li>
</ul>
<h2 id="14-10、http-考点总结"><a href="#14-10、http-考点总结" class="headerlink" title="14-10、http 考点总结"></a>14-10、http 考点总结</h2><ul>
<li>http 状态码</li>
<li>http method</li>
<li>Restful API</li>
<li>http headers</li>
<li>http 缓存策略</li>
</ul>
<p><strong>部分题目</strong></p>
<ul>
<li>http 常见的状态码有哪些？</li>
<li>http 常见的 header 有哪些？</li>
<li>什么是 Restful API （需要先说 method ,以及 Restful API 与 传统API 的不同，应结合案例 ）</li>
<li>描述一下 http 的缓存机制 （重要）最好把图画出来<ul>
<li>强制缓存</li>
<li>协商缓存</li>
</ul>
</li>
</ul>
<h1 id="第十五章、-js-开发环境"><a href="#第十五章、-js-开发环境" class="headerlink" title="第十五章、 js-开发环境"></a>第十五章、 js-开发环境</h1><h2 id="15-1、关于开发环境"><a href="#15-1、关于开发环境" class="headerlink" title="15-1、关于开发环境"></a>15-1、关于开发环境</h2><p><strong>git</strong></p>
<p><img src="/images/20204/js-dev-01.png" alt="git"></p>
<p>常用命令：</p>
<p><img src="/images/20204/js-dev-02.png" alt="git"></p>
<p><img src="/images/20204/js-dev-03.png" alt="git"></p>
<p>演示：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">查看状态</span><br><span class="line">git status </span><br><span class="line">查看修改位置</span><br><span class="line">git diff</span><br><span class="line"></span><br><span class="line">提交的时候，添加用户信息</span><br><span class="line">git config user.name wfp</span><br><span class="line"></span><br><span class="line">查看提交记录</span><br><span class="line">git <span class="built_in">log</span></span><br><span class="line"></span><br><span class="line">查看详情</span><br><span class="line">git show + git <span class="built_in">log</span>后面的id</span><br><span class="line"></span><br><span class="line">撤销index.html修改</span><br><span class="line">git checkout index.html</span><br><span class="line">撤销所有修改</span><br><span class="line">git checkout .</span><br><span class="line"></span><br><span class="line">提交  master:分支名</span><br><span class="line">git add .</span><br><span class="line">git commit -m xxx</span><br><span class="line">git push origin master </span><br><span class="line"></span><br><span class="line">拉取</span><br><span class="line">git pull origin master</span><br></pre></td></tr></table></figure>
<h2 id="15-4-git命令演示-（多人协作）"><a href="#15-4-git命令演示-（多人协作）" class="headerlink" title="15-4 git命令演示 （多人协作）"></a>15-4 git命令演示 （多人协作）</h2><p>不同分支：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">新建feature-login分支</span><br><span class="line">git checkout -b feature-login</span><br><span class="line"></span><br><span class="line">查看分支</span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line">切换到master分支 </span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">合并其他分支到master:</span><br><span class="line">先切换到主分支：</span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">拉出当前服务端的，所有分支</span><br><span class="line">git fetch</span><br><span class="line"></span><br><span class="line">切换到需要合并的分支，看一下有没有新东西，再切换回来</span><br><span class="line">git checkout feature-login</span><br><span class="line">git pull origin feature-login</span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">合并feature-login</span><br><span class="line">git mrege feature-login</span><br><span class="line"></span><br><span class="line">此时feature-login在本地，需要提交服务器</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>
<p>解决冲突：可直接使用vscode，接受当前改变|接受传入改变|两个都要。解决之后再合并。可以<code>git log</code>看一下。</p>
<p>常用api:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">如果在master上直接做了修改，而忘记打分支，那么可以：</span><br><span class="line">把当前更改放在缓冲区，还原master</span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line">此时可以再打分支，</span><br><span class="line">git checkout -b feature-logout</span><br><span class="line"></span><br><span class="line">把刚才暂存的修改，拉下来。然后就可以了。</span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>
<h2 id="15-5、chrome调试工具"><a href="#15-5、chrome调试工具" class="headerlink" title="15-5、chrome调试工具"></a>15-5、chrome调试工具</h2><p><img src="/images/20204/js-dev-04.png" alt="chrome调试工具"></p>
<h2 id="15-6、抓包"><a href="#15-6、抓包" class="headerlink" title="15-6、抓包"></a>15-6、抓包</h2><p>应用场景：移动端开发时，手机上面没有调试工具。</p>
<p><img src="/images/20204/js-dev-05.png" alt="抓包"></p>
<p><img src="/images/20204/js-dev-06.png" alt="抓包"></p>
<p>这个软件的功能：</p>
<ul>
<li>抓包</li>
<li>网络代理:代理到其他地址</li>
<li>https：可以处理加密的https请求</li>
</ul>
<h2 id="15-7、webpack和babel"><a href="#15-7、webpack和babel" class="headerlink" title="15-7、webpack和babel"></a>15-7、webpack和babel</h2><p><strong>产生原因</strong></p>
<p><img src="/images/20204/js-dev-07.png" alt="chrome调试工具"></p>
<p>一些配置：webpack.config.js: </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">// mode 可选 development 或 production ，默认为后者</span></span><br><span class="line">    <span class="comment">// production 会默认压缩代码并进行其他优化（如 tree shaking）</span></span><br><span class="line">    mode: <span class="string">'development'</span>,</span><br><span class="line">    entry: path.join(__dirname, <span class="string">'src'</span>, <span class="string">'index'</span>),</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">        path: path.join(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                loader: [<span class="string">'babel-loader'</span>],</span><br><span class="line">                include:  path.join(__dirname, <span class="string">'src'</span>),</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// 解析html</span></span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: path.join(__dirname, <span class="string">'src'</span>, <span class="string">'index.html'</span>), <span class="comment">//找到当前的模板。</span></span><br><span class="line">            filename: <span class="string">'index.html'</span>  <span class="comment">//产出的文件名字</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    devServer: &#123; <span class="comment">//配置启动本地服务，</span></span><br><span class="line">        port: <span class="number">3000</span>,</span><br><span class="line">        contentBase: path.join(__dirname, <span class="string">'dist'</span>),  <span class="comment">// 当前根目录（dist）</span></span><br><span class="line">        open: <span class="literal">true</span>,  <span class="comment">// 自动打开浏览器</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>package.json:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"webpack-demo"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    "build": "webpack --config webpack.prod.js",  //如果是开发环境，--后面的可省略，默认</span><br><span class="line">    "dev": "webpack-dev-server"</span><br><span class="line">  &#125;,</span><br><span class="line">  "keywords": [],</span><br><span class="line">  "author": "",</span><br><span class="line">  "license": "ISC",</span><br><span class="line">  "devDependencies": &#123;</span><br><span class="line">    "@babel/core": "^7.6.2",</span><br><span class="line">    "@babel/preset-env": "^7.6.2",</span><br><span class="line">    "babel-loader": "^8.0.6",</span><br><span class="line">    "html-webpack-plugin": "^3.2.0",</span><br><span class="line">    "webpack": "^4.41.0",</span><br><span class="line">    "webpack-cli": "^3.3.9",</span><br><span class="line">    "webpack-dev-server": "^3.8.1"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>经过上面的配制就可以打包了。安装解析html的插件：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin</span><br></pre></td></tr></table></figure>
<p>安装启动服务的插件：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server</span><br></pre></td></tr></table></figure>
<h2 id="15-8、ES6转ES5"><a href="#15-8、ES6转ES5" class="headerlink" title="15-8、ES6转ES5"></a>15-8、ES6转ES5</h2><p>代码结构：</p>
<p><img src="/images/20204/js-dev-08.png" alt="代码结构"></p>
<p>在代码中写sum函数，通过查看打包后的bundle.js发现，代码还是ES6语法：</p>
<p><img src="/images/20204/js-dev-09.png" alt="bundle.js"></p>
<blockquote>
<p>webpack只负责打包，我们需要babel来编译</p>
</blockquote>
<p>代码演示：index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'index js'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导入</span></span><br><span class="line"><span class="keyword">import</span> &#123; fn, name &#125; <span class="keyword">from</span> <span class="string">'./fn'</span></span><br><span class="line">fn()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'name is '</span>, name)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数</span></span><br><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b</span><br><span class="line"><span class="keyword">const</span> result = sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"></span><br><span class="line"><span class="comment">// class</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    sayHi() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span> say hi`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> zhangsan = <span class="keyword">new</span> People(<span class="string">'张三'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(zhangsan.sayHi())</span><br></pre></td></tr></table></figure>
<p><strong>babel</strong></p>
<p>babel和webpack并无太大关系，只不过babel可以提供一些插件，给webpack用。</p>
<p>babel本身只是一个转换语法工具。只不过经常在一起使用。</p>
<p>安装：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @babel/core @babel/preset-env babel-loader -D</span><br></pre></td></tr></table></figure>
<p>新建<code>.babelrc</code>文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .babelrc</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"presets"</span>: [<span class="string">"@babel/preset-env"</span>],</span><br><span class="line">    <span class="string">"plugins"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接下来在webpack.config.js中配置，</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span>,  <span class="comment">//.js结尾的文件，都走一个babel-loader插件；</span></span><br><span class="line">            loader: [<span class="string">'babel-loader'</span>],</span><br><span class="line">            include:  path.join(__dirname, <span class="string">'src'</span>),  <span class="comment">// 哪些目录需要走babel-loader(src)</span></span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>  <span class="comment">//不包括的目录。</span></span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>此时编译、刷新，这个时候箭头函数已经被转译：</p>
<p><img src="/images/20204/js-dev-10.png" alt="已经转译"></p>
<h2 id="15-9、模块化"><a href="#15-9、模块化" class="headerlink" title="15-9、模块化"></a>15-9、模块化</h2><p>就是一个导出和导入的过程，</p>
<p>例如：index.js调用fn.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// fn.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// export function fn() &#123;</span></span><br><span class="line"><span class="comment">//     console.log('fn')</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// export const name = 'b'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'fn'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'b'</span></span><br><span class="line"> <span class="comment">// 注意这里不能有 default ！！！ 导出集合不能用default，这样import的时候就能用解构赋值的形式</span></span><br><span class="line"><span class="keyword">export</span> &#123; </span><br><span class="line">    fn, </span><br><span class="line">    name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index.js</span><br><span class="line"><span class="comment">// 导入</span></span><br><span class="line"><span class="keyword">import</span> &#123; fn, name &#125; <span class="keyword">from</span> <span class="string">'./fn'</span></span><br><span class="line">fn()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'name is '</span>, name)</span><br></pre></td></tr></table></figure>
<h2 id="15-10-webpack-配置生产环境"><a href="#15-10-webpack-配置生产环境" class="headerlink" title="15-10 webpack-配置生产环境"></a>15-10 webpack-配置生产环境</h2><p>新建<code>webpack.prod.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">'production'</span>,</span><br><span class="line">    entry: path.join(__dirname, <span class="string">'src'</span>, <span class="string">'index'</span>),</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">'bundle.[contenthash].js'</span>,  <span class="comment">// 添加contenthash，根据代码内容算出hash值，代码变动时，打包文件名字不同。</span></span><br><span class="line">        path: path.join(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">                loader: [<span class="string">'babel-loader'</span>],</span><br><span class="line">                include:  path.join(__dirname, <span class="string">'src'</span>),</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: path.join(__dirname, <span class="string">'src'</span>, <span class="string">'index.html'</span>),</span><br><span class="line">            filename: <span class="string">'index.html'</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>改变<code>package.json</code>的文件地址</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">  <span class="string">"build"</span>: <span class="string">"webpack --config webpack.prod.js"</span>,</span><br><span class="line">  <span class="string">"dev"</span>: <span class="string">"webpack-dev-server"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h2 id="15-11、linux常用命令"><a href="#15-11、linux常用命令" class="headerlink" title="15-11、linux常用命令"></a>15-11、linux常用命令</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">## 连接服务器： ssh 用户名@密码</span></span><br><span class="line">ssh work@192.168.10.21</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看文件</span></span><br><span class="line">ls</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看文件 平铺</span></span><br><span class="line">ll</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看所有，包括以.开头的文件夹</span></span><br><span class="line">ls -a </span><br><span class="line"></span><br><span class="line"><span class="comment">## 清屏</span></span><br><span class="line">clear</span><br><span class="line"></span><br><span class="line"><span class="comment">## 创建文件夹abc</span></span><br><span class="line">mkdir abc</span><br><span class="line"></span><br><span class="line"><span class="comment">## 删除文件夹内所有abc  -r 递归删除  -f 强力删除，免去了询问</span></span><br><span class="line">rm -rf abc</span><br><span class="line"></span><br><span class="line"><span class="comment">## 访问文件：</span></span><br><span class="line"><span class="built_in">cd</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 修改文件夹名</span></span><br><span class="line">mv index.html index.html</span><br><span class="line"></span><br><span class="line"><span class="comment">## 自动填充</span></span><br><span class="line">tab键</span><br><span class="line"></span><br><span class="line"><span class="comment">## 移动文件：</span></span><br><span class="line">mv index.html  ../index.html</span><br><span class="line">mv index.html  dist/index.html</span><br><span class="line"></span><br><span class="line"><span class="comment">## 拷贝   a.js为a1.js  cp:copy的意思</span></span><br><span class="line">cp a.js a1.js</span><br><span class="line"></span><br><span class="line"><span class="comment">## 删除文件</span></span><br><span class="line">rm index.html</span><br><span class="line"></span><br><span class="line"><span class="comment">## 新建文件</span></span><br><span class="line">touch index.js</span><br><span class="line"></span><br><span class="line"><span class="comment">## 新建并打开文件，会进入编辑器</span></span><br><span class="line">vi d.js</span><br><span class="line"></span><br><span class="line"><span class="comment">## 编辑模式，点击 i 进入输入模式。(inset)</span></span><br><span class="line"><span class="comment">## 点击esc,退出输入模式，</span></span><br><span class="line"><span class="comment">## 点击 " 键，</span></span><br><span class="line"><span class="comment">## 输入:w,回车，保存</span></span><br><span class="line"><span class="comment">## 点击q 退出（quit）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看文件内容：</span></span><br><span class="line"><span class="comment">## 如果没有index.js，会创建，如果有，会打开</span></span><br><span class="line">vi index.js</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查看文件：打印所有内容</span></span><br><span class="line">cat package.js</span><br><span class="line"><span class="comment">## 查看文件：打印前面几行</span></span><br><span class="line">head package.js</span><br><span class="line"><span class="comment">## 查看文件：打印后面几行</span></span><br><span class="line">tail package.js</span><br><span class="line"></span><br><span class="line"><span class="comment">## 查找内容： 在package.js中查找关键字“babel”</span></span><br><span class="line">grep <span class="string">"babel"</span> package.json</span><br><span class="line"></span><br><span class="line"><span class="comment">## vim 编辑器操作：</span></span><br><span class="line"><span class="comment">## 点击 i 键，编辑模式</span></span><br><span class="line"><span class="comment">## 点击esc，输入： 输入q ,保存并退出</span></span><br><span class="line"><span class="comment">## 点击esc，输入： 输入q! ,强制退出</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 自带教程</span></span><br><span class="line">vimtutor</span><br></pre></td></tr></table></figure>
<h2 id="15-12、总结"><a href="#15-12、总结" class="headerlink" title="15-12、总结"></a>15-12、总结</h2><ul>
<li>git</li>
<li>调试工具</li>
<li>抓包、代理、手机抓包、https</li>
<li>webpack babel 环境配置、编辑、模块化</li>
<li>linux常用命令</li>
</ul>
<h1 id="第十六章、运行环境"><a href="#第十六章、运行环境" class="headerlink" title="第十六章、运行环境"></a>第十六章、运行环境</h1><h2 id="16-1、介绍"><a href="#16-1、介绍" class="headerlink" title="16-1、介绍"></a>16-1、介绍</h2><p><strong>运行环境</strong></p>
<ul>
<li>运行环境即浏览器（server端有nodejs）</li>
<li>下载网页代码，渲染出页面，期间会执行若干JS</li>
<li>要保证代码在浏览器中：稳定且高效</li>
</ul>
<h2 id="16-2、页面加载和渲染过程"><a href="#16-2、页面加载和渲染过程" class="headerlink" title="16-2、页面加载和渲染过程"></a>16-2、页面加载和渲染过程</h2><p>一些问题：</p>
<ul>
<li>从输入url到渲染出页面的整个过程</li>
<li>window.onload和DOMContentLoaded的区别</li>
</ul>
<p>知识点：</p>
<ul>
<li>加载资源的形式</li>
<li>加载资源的过程</li>
<li>渲染页面的过程</li>
</ul>
<p><strong>资源的形式：</strong></p>
<p>html、js、css、媒体图片</p>
<p><strong>加载过程：</strong></p>
<ul>
<li>DNS解析：域名 -&gt; IP地址。</li>
<li>浏览器根据IP地址向服务器发起http请求</li>
<li>服务器处理http请求，并返回给浏览器</li>
</ul>
<p>ip地址不好记。而且大型网站，他们做了分区域处理，不同地址访问不同的服务器，访问更快。</p>
<p><strong>渲染过程-1</strong></p>
<ul>
<li>根据 HTML代码生成 DOM （Tree Document 对象模型）</li>
<li>根据 CSS 生成 CSSOM   （CSS对象模型）</li>
<li>将DOM Tree和 CSSOM 整合形成 Render Tree (渲染树)</li>
</ul>
<p>我们可以认为html代码是一个DOM树，我们也可以认为他是一个Render Tree，因为每个节点挂了css属性。</p>
<p><strong>渲染过程-2</strong></p>
<ul>
<li>根据Render Tree渲染页面</li>
<li>遇到<code>&lt;script&gt;</code>则暂停渲染，优先加载并执行JS代码，完成再继续。js有可能修改DOM结构</li>
<li>直至把Render Tree渲染完成</li>
</ul>
<h2 id="16-3、示例"><a href="#16-3、示例" class="headerlink" title="16-3、示例"></a>16-3、示例</h2><p>为何建议把CSS放在<code>&lt;head&gt;</code>中？</p>
<blockquote>
<p>这样会首先渲染DOM Tree，然后再生成CSSOM，再重新生成Render Tree。可能会引起重复。性能卡的电脑上可以肉眼看出闪动。放在<head>中，直接一步到位。</p>
</blockquote>
<p>为何js放在<code>&lt;body&gt;</code>里面的最后？</p>
<blockquote>
<p>若放在中间，渲染DOM到一半的时候，会卡主，去渲染js，然后再渲染DOM。</p>
</blockquote>
<p>遇到<code>&lt;img&gt;</code>标签，不会阻塞DOM渲染过程，等图片下载完，会接着渲染。</p>
<p>所以下图中，用下面的方式，更快速。</p>
<p><img src="/images/20204/js-dev-11.png" alt="事件监听"></p>
<h2 id="16-4、示例"><a href="#16-4、示例" class="headerlink" title="16-4、示例"></a>16-4、示例</h2><p>index.html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>运行环境 演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字 3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">            <span class="attr">id</span>=<span class="string">"img1"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">src</span>=<span class="string">"https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1570191150419&amp;di=37b1892665fc74806306ce7f9c3f1971&amp;imgtype=0&amp;src=http%3A%2F%2Fimg.pconline.com.cn%2Fimages%2Fupload%2Fupc%2Ftx%2Fitbbs%2F1411%2F13%2Fc14%2F26229_1415883419758.jpg"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./index.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> img1 = <span class="built_in">document</span>.getElementById(<span class="string">'img1'</span>)</span><br><span class="line">img1.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'img loaded'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'window loaded'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'dom content loaded'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>打印顺序：</p>
<p><img src="/images/20204/js-dev-12.png" alt="打印顺序"></p>
<h2 id="16-5、性能优化"><a href="#16-5、性能优化" class="headerlink" title="16-5、性能优化"></a>16-5、性能优化</h2><p><strong>性能优化原则：</strong></p>
<ul>
<li>多使用内存、缓存或其他方法</li>
<li>减少CPU计算量，减少网络加载耗时</li>
<li>（适用于所有变成的性能优化 ———— 空间换时间）。如08年出的chorme，每个标签页单独开一个进程。</li>
</ul>
<p><strong>从何入手：</strong></p>
<ul>
<li>让加载更快</li>
<li>让渲染更快</li>
</ul>
<p><strong>让加载更快</strong></p>
<ul>
<li>减少资源体积：压缩代码、压缩图片、雪碧图。如服务器端也会进行gzip压缩，js压缩之后，浏览器反解析</li>
<li>减少访问次数：合并代码（打包之后把多个js合并为一个，减少HTTP请求次数）、SSR服务器端渲染，缓存</li>
<li>使用更快的网络：CDN （分区域访问服务器）</li>
</ul>
<p><strong>让渲染更快</strong></p>
<ul>
<li>CSS放在head,JS放在body最下面</li>
<li>尽早开始执行JS,用DOMContentLoaded触发</li>
<li>懒加载（图片懒加载，上滑加载更多）</li>
<li>对DOM查询进行缓存</li>
<li>频繁DOM操作，合并到一起插入DOM结构</li>
<li>节流 throttle 防抖 debounce</li>
</ul>
<h2 id="16-6、示例讲解（1）"><a href="#16-6、示例讲解（1）" class="headerlink" title="16-6、示例讲解（1）"></a>16-6、示例讲解（1）</h2><p><strong>资源合并</strong></p>
<ul>
<li>把多个js合并成一个</li>
</ul>
<p><strong>缓存</strong></p>
<p><img src="/images/20204/js-dev-13.png" alt="缓存"></p>
<p><strong>CDN</strong></p>
<ul>
<li>使用CDN,专门处理静态文件，根据地域返回，</li>
</ul>
<p><strong>SSR</strong></p>
<p><img src="/images/20204/js-dev-14.png" alt="SSR"></p>
<p><strong>懒加载</strong></p>
<p><img src="/images/20204/js-dev-15.png" alt="懒加载"></p>
<p><strong>缓存DOM查询</strong></p>
<p><img src="/images/20204/js-dev-16.png" alt="缓存DOM查询"></p>
<p>可以多个DOM操作，一起插入到DOM结构。</p>
<p><strong>尽早开始JS执行</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'window loaded'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'dom content loaded'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="/images/20204/js-dev-17.png" alt="尽早开始JS执行"></p>
<h2 id="16-7、防抖-debounce"><a href="#16-7、防抖-debounce" class="headerlink" title="16-7、防抖 debounce"></a>16-7、防抖 debounce</h2><p>适用场景：</p>
<ul>
<li>监听一个输入框的，文字变化后出发change事件</li>
<li>直接用keyup事件，则会频繁触发change事件</li>
<li>防抖：用户输入结束或暂停时，才出发change事件</li>
</ul>
<p>代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> input1 = <span class="built_in">document</span>.getElementById(<span class="string">'input1'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// let timer = null</span></span><br><span class="line"><span class="comment">// input1.addEventListener('keyup', function () &#123;</span></span><br><span class="line"><span class="comment">//     if (timer) &#123;</span></span><br><span class="line"><span class="comment">//         clearTimeout(timer)</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     timer = setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//         // 模拟触发 change 事件</span></span><br><span class="line"><span class="comment">//         console.log(input1.value)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//         // 清空定时器</span></span><br><span class="line"><span class="comment">//         timer = null</span></span><br><span class="line"><span class="comment">//     &#125;, 500)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 防抖</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay = <span class="number">500</span></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// timer 是闭包中的</span></span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            clearTimeout(timer)</span><br><span class="line">        &#125;</span><br><span class="line">        timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 函数执行时把当前的this和arguments传进来，</span></span><br><span class="line">            fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">            timer = <span class="literal">null</span></span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input1.addEventListener(<span class="string">'keyup'</span>, debounce(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.target)</span><br><span class="line">    <span class="built_in">console</span>.log(input1.value)</span><br><span class="line">&#125;, <span class="number">600</span>))</span><br></pre></td></tr></table></figure>
<h2 id="16-8、节流-throttle"><a href="#16-8、节流-throttle" class="headerlink" title="16-8、节流 throttle"></a>16-8、节流 throttle</h2><p>适用场景：</p>
<ul>
<li>拖拽一个元素时，要随时拿到该元素被拖拽的位置</li>
<li>直接用drag时间，则会频繁触发，很容易导致卡顿</li>
<li>节流：无论拖拽速度多快，都会每隔100ms触发一次</li>
</ul>
<p>代码：</p>
<p>html:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">title</span>&gt;</span>throttle 演示<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">           <span class="selector-id">#div1</span> &#123;</span></span><br><span class="line"><span class="css">               <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line"><span class="undefined">               width: 200px;</span></span><br><span class="line"><span class="undefined">               height: 100px;</span></span><br><span class="line"><span class="undefined">           &#125;</span></span><br><span class="line"><span class="undefined">       </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">draggable</span>=<span class="string">"true"</span>&gt;</span>可拖拽<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./throttle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">'div1'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// let timer = null</span></span><br><span class="line"><span class="comment">// div1.addEventListener('drag', function (e) &#123;</span></span><br><span class="line"><span class="comment">//     if (timer) &#123;</span></span><br><span class="line"><span class="comment">//         return</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     timer = setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//         console.log(e.offsetX, e.offsetY)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//         timer = null</span></span><br><span class="line"><span class="comment">//     &#125;, 100)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 节流</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay = <span class="number">100</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</span><br><span class="line">            timer = <span class="literal">null</span></span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div1.addEventListener(<span class="string">'drag'</span>, throttle(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.offsetX, e.offsetY)</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">div1.addEventListener(<span class="string">'drag'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="16-9、安全-xss"><a href="#16-9、安全-xss" class="headerlink" title="16-9、安全 xss"></a>16-9、安全 xss</h2><blockquote>
<p>问题：常见的web前端攻击方式有哪些？</p>
</blockquote>
<blockquote>
<p>更多：<a href="https://blog.csdn.net/qq_36367995/article/details/80279218" target="_blank" rel="noopener">https://blog.csdn.net/qq_36367995/article/details/80279218</a></p>
</blockquote>
<p><strong>XSS 跨站请求攻击</strong></p>
<p><img src="/images/20204/js-dev-18.png" alt="XSS跨站请求攻击"></p>
<p>代码演示：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>一段文字3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;script&gt;alert(document.cookie);&lt;/script&gt; --&gt;</span></span><br><span class="line">    &amp;lt;script&amp;gt;alert(document.cookie);&amp;lt;/script&amp;gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如何解决：</p>
<p><img src="/images/20204/js-dev-19.png" alt="XSS跨站请求攻击"></p>
<p>XSS工具：npmjs.com/package/xss。可以主动替换字符串。</p>
<p><strong>CSRF 跨站请求伪造</strong></p>
<p>一般场景：目前不太多见</p>
<p><img src="/images/20204/js-dev-20.png" alt="一般场景"></p>
<p><img src="/images/20204/js-dev-21.png" alt="一般场景"></p>
<p>预防：</p>
<ul>
<li>使用POST接口：POST接口做跨域，需要server端支持</li>
<li>增加验证，例如密码、短信验证码、指纹等</li>
</ul>
<h2 id="16-11、运行环境总结"><a href="#16-11、运行环境总结" class="headerlink" title="16-11、运行环境总结"></a>16-11、运行环境总结</h2><ul>
<li>网页加载过程</li>
<li>性能优化</li>
<li>安全</li>
</ul>
	
		</div>
		
		<div id="current-post-cover" data-scr="../../../../../img/cart_cover.jpg"></div>

		<!-- relate post, comment...-->
		<div class="investment-container">
			<div class="investment-header">
				<div class="investment-title-1">
					<div class="on">相关文章</div>
					<div>评论</div>
					<div>分享</div>
				</div>
				<div class="investment-title-2">	            
					
	<span>
		<a id="totop-post-page">返回顶部</a>
		
			<a href="../js-base-3/" title="web基础-3-总结、题目" rel="prev">
				&laquo;上一篇
			</a>
		
		
			<a href="../../../10/20204/js-base-1/" title="web基础-1-js基础知识" rel="next">
				下一篇&raquo;
			</a>
			
	</span>


      		
				</div>	
			</div>
			
			<div class="investment-content">
				<div class="investment-content-list">
					

<div class="relate-post">
	
		<ul>
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../../2021/04/23/20184/markdown/" title="MD测试语法">
								MD测试语法			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								四月 23日, 2021				
							</p>
							<p class="relate-post-content">
								主要是 hexo 写博客时常用的语法

一级标题二级标题三级标题四级标题五级标题六级标题Qt 开源社区提供的下载地址

。
这是一段测试 加粗 _倾斜_Lorem ipsum dolor sit amet, consectetur a...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../../2021/04/23/20184/markdown/" title="MD测试语法">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="MD测试语法"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../../2021/04/23/20183/first-month/" title="遇到的问题">
								遇到的问题			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								四月 23日, 2021				
							</p>
							<p class="relate-post-content">
								记录一下项目中相关的的问题

用CANVAS绘制水印1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../../2021/04/23/20183/first-month/" title="遇到的问题">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="遇到的问题"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../../2021/01/13/20211/typescript-1/" title="typescript入门">
								typescript入门			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								一月 13日, 2021				
							</p>
							<p class="relate-post-content">
								Any 类型、数组和元组、interface 、类型推论 联合类型 类型断言、Class、类和接口、Enum、Generics、类型别名，字面量，交叉类型、声明文件、内置类型
慕课网视频地址：https://coding.imooc....
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../../2021/01/13/20211/typescript-1/" title="typescript入门">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="typescript入门"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../../2021/01/04/20204/problem/" title="其他前端问题（一）">
								其他前端问题（一）			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								一月 4日, 2021				
							</p>
							<p class="relate-post-content">
								其他前端问题（一）
 
关于async/await、promise和setTimeout执行顺序 1234567891011121314151617181920 async function async1() &#123;	conso...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../../2021/01/04/20204/problem/" title="其他前端问题（一）">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="其他前端问题（一）"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../12/28/20204/webpack-babel-2/" title="webpack-babel-2 构建速度优化、产出代码优化、babel">
								webpack-babel-2 构建速度优化、产出代码优化、babel			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 28日, 2020				
							</p>
							<p class="relate-post-content">
								构建速度优化、产出代码优化、babel

10-9 webpack优化构建速度-知识点串讲（性能优化）
热议话题
优化打包构建速度 - 优化开发体验和效率
优化产出代码 - 优化产品性能 

一般会让你聊一聊性能优化，可以从上面两个方...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../12/28/20204/webpack-babel-2/" title="webpack-babel-2 构建速度优化、产出代码优化、babel">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="webpack-babel-2 构建速度优化、产出代码优化、babel"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../12/28/20204/webpack-babel-1/" title="webpack-babel-1  基础配置、高级配置">
								webpack-babel-1  基础配置、高级配置			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 28日, 2020				
							</p>
							<p class="relate-post-content">
								基础配置、高级配置

1、webpack考点梳理webpack

webpack 已是前端打包构建的不二选择
前端已经不再是单纯的写页面的了。现在都是一个app，像android项目等。webpack是比较规范的。


每日必用，面试...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../12/28/20204/webpack-babel-1/" title="webpack-babel-1  基础配置、高级配置">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="webpack-babel-1  基础配置、高级配置"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../12/28/20204/vue3-learn/" title="vue3学习">
								vue3学习			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 28日, 2020				
							</p>
							<p class="relate-post-content">
								vue-cli配置、ref 、reactive、响应式对象、生命周期、watch、compositionAPI、模块化、泛型改造、setup()、Teleprot 、Suspense 、Global API 
慕课网视频地址：http...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../12/28/20204/vue3-learn/" title="vue3学习">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="vue3学习"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../12/21/20204/react-theory-2/" title="react原理-2-高级特性">
								react原理-2-高级特性			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 21日, 2020				
							</p>
							<p class="relate-post-content">
								react原理-2-高级特性

7-13 React函数组件和class组件有何区别 （下面开始讲高级特性）高级特性可以拉开差距，主要包括：

函数组件
非受控组件
Portals
context
异步组件
性能优化
高阶组件 HOC...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../12/21/20204/react-theory-2/" title="react原理-2-高级特性">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="react原理-2-高级特性"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../12/21/20204/react-theory-1/" title="react原理-1-使用">
								react原理-1-使用			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 21日, 2020				
							</p>
							<p class="relate-post-content">
								react原理-1-使用

第七章7-1、React使用-考点串讲React vs Vue

React 和 Vue 一样重要，力求两者都会
React 和 Vue 有很多相通之处，而且正在趋于一致
React 比 Vue 学习成本高...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../12/21/20204/react-theory-1/" title="react原理-1-使用">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="react原理-1-使用"/>
							</a>
						</div>
					</li>												
			
					<li>
						<div class="relate-post-text">
							<a class="relate-post-title" href="../../../../12/06/20204/vue-theory-3/" title="vue底层-3-题目、vue3">
								vue底层-3-题目、vue3			
							</a>
							<p class="relate-post-date">
								<i class="fa fa-calendar"></i>
								十二月 6日, 2020				
							</p>
							<p class="relate-post-content">
								慕课网视频地址：https://coding.imooc.com/class/419.html


第五章、面试真题题目来源：重点内容、网上收集整理、热门知识点
大约30个题目。
5.1、v-for为何使用keyv-show和v-if...
							</p>
						</div>

						<div class="relate-post-cover">
							<a href="../../../../12/06/20204/vue-theory-3/" title="vue底层-3-题目、vue3">				
								
								<img class="lazy" src="/img/lazy.gif" data-src="/img/cart_cover.jpg" alt="vue底层-3-题目、vue3"/>
							</a>
						</div>
					</li>												
			
		</ul>
	
</div>	
				</div>
				<div class="investment-content-list">
					<div class="layout-comment">

	
		<div class="config-info">
			Please check the parameter of <b>comment</b> in config.yml of hexo-theme-Annie!
		</div>	
	

</div>
				</div>
				<div class="investment-content-list">
					<div class="layout-share">
	
	

		
			
			<!-- socialShare share -->
			<div class="social-share"></div>

<!--  css & js -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
<script async src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
			
		
		
	
</div>


				</div>
			</div>	
		</div>
	</div>
</div>

<!-- show math formula -->



	 
	
<script src="../../../../../plugin/clipboard/clipboard.js"></script>

	<script>
		// Copy code !
	    function preprocessing() {
	        $("#article-content .highlight").each(function() {
	            $(this).wrap('<div id="post-code"></div>');
	        })

	        $("#article-content #post-code").each(function() {
	            $(this).prepend('<nav class="copy-nav"><span><i class="code-language"></i></span></nav>');
	        })

	        $("#article-content .copy-nav").each(function() {
	            let languageClass = $(this).next().attr('class'),
	                language = ((languageClass.length > 9) && (languageClass != null)) ? languageClass.substr(10) : "none"; //why 9? Need to check language?

	            $(this).find('.code-language').text(language);
	            $(this).append('<span class="copy-btn icon-paste"></span>');
	        });
	    }

		function copy() {
		    $('#article-content #post-code').each(function(i) {
		        let codeCopyId = 'codeCopy-' + i;

		        let codeNode = $(this).find('.code'),
		            copyButton = $(this).find('.copy-btn');

		        codeNode.attr('id', codeCopyId);
		        copyButton.attr('data-clipboard-target-id', codeCopyId);
		    })
   
			let clipboard = new ClipboardJS('.copy-btn', {
					target: function(trigger) {
						return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
					}
		      	});

			//pure js
			function showTooltip(elem, msg) {		   
				elem.setAttribute('aria-label', msg);
				elem.setAttribute('class', 'copy-btn icon-clipboard1');
				setTimeout(function() {
					elem.setAttribute('class', 'copy-btn icon-paste');
				}, 2000);
			}

			clipboard.on('success', function(e) {
			    e.clearSelection();
			    console.info('Action:', e.action);		   
			    console.info('Trigger:', e.trigger);
			    showTooltip(e.trigger, 'Copied!');   
			});
			
			clipboard.on('error', function(e) {
			    console.error('Action:', e.action);
			    console.error('Trigger:', e.trigger);
			});
		}
		
		(function copyCode(){
			if ($('.layout-post').length) {
			    preprocessing();
			    copy();
			} 
		})();
	</script>






<link rel="stylesheet" href="../../../../../plugin/fancybox/jquery.fancybox.css">


<script src="../../../../../plugin/fancybox/jquery.fancybox.js"></script>


<script type="text/javascript">
	(function gallerySet(){
		let titleID = $('.article-title a'),
			imageID = $('.article-content img'),
			videoID = $('.article-content video');
		
		let postTitle = titleID.text() ? titleID.text() : "No post title!";
		
		imageID.each(function() {
			let imgPath = $(this).attr('src'),
				imgTitle = $(this).attr('alt') ? $(this).attr('alt') : "No image description!";
		
			//给每个匹配的<img>元素打包, 即添加父元素<a>
			$(this).wrap('<a data-fancybox="gallery" data-caption="《 ' + postTitle + ' 》' + imgTitle + '"href="' + imgPath + '"> </a>');
		});
		
		videoID.each(function() {
			let videoPath = $(this).attr('src');
		
			//给每个匹配的<img>元素打包, 即添加父元素<a>
			$(this).wrap('<a data-fancybox href=" ' + videoPath + ' "> </a>');
		});
		
		//TODO：支持html5 video

		if($('#layout-post').length) {
			$('[data-fancybox="gallery"]').fancybox({
				loop: true,
				buttons: [
					"zoom",
					"share",
					"slideShow",
					"fullScreen",
					//"download",
					"thumbs",
					"close"
				],
				protect: true
			});
		}
	})();
</script>
		</main>

		<!--footer-->
		<footer>
	<div id="navigation-show">
		<ul id="global-nav">
	
		<li class="menu-home">
			<a href="../../../../../index.html" class="menu-item-home" target="_blank">主页</a>
		</li>
		
	
		<li class="menu-archive">
			<a href="../../../../../archives" class="menu-item-archive" target="_blank">归档</a>
		</li>
		
	
		<li class="menu-categories">
			<a href="../../../../../categories" class="menu-item-categories" target="_blank">分类</a>
		</li>
		
	
		<li class="menu-tags">
			<a href="../../../../../tags" class="menu-item-tags" target="_blank">标签</a>
		</li>
		
	
		<li class="menu-about">
			<a href="../../../../../about" class="menu-item-about" target="_blank">关于</a>
		</li>
		
	
		<li class="menu-gallery">
			<a href="../../../../../gallery" class="menu-item-gallery" target="_blank">相册</a>
		</li>
		
	

	
		<li class="menu-search">
			<a href="javascript:;" class="popup-trigger">搜索</a>
		</li>
	
</ul>
	</div>

	<div class="copyright">
		<p>
			 
				&copy;2018 - 2021, content by chenlilin. All Rights Reserved.
			
			
				<!-- <a href="../../../../../http:/hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> Theme <a href="../../../../../https:/github.com/Sariay/hexo-theme-Annie" title="Annie" target="_blank" rel="noopener">Annie</a> by Sariay. -->
			
		</p>
		<p>
			

	<!-- busuanzi -->
	<!-- busuanzi -->



			<a href="javascript:zh_tran('s');" class="zh_click" id="zh_click_s">简体</a> 
			<a href="javascript:zh_tran('t');" class="zh_click" id="zh_click_t">繁體</a>				
		</p>
	</div>		
</footer>
		
	<!-- Local or hitokoto! -->

	
<script src="../../../../../plugin/motto/motto.js"></script>

	
	<script type="text/javascript">
		(function motto(){
			let mottoText = getMingYanContent().split('</br> - </br>'),
			
			mottoTextContent = mottoText[0]?mottoText[0]:'请刷新...',
			
			mottoTextFrom = mottoText[1]?mottoText[1]:'one/一个';
			
			mottoTextContent = mottoTextContent.trim().substring(0, 100);
		
			$("#motto-content").html( mottoTextContent);
			$("#motto-author").html( mottoTextFrom  );
		})();	
	</script>	



<!-- love effect -->

	
<script src="../../../../../plugin/love/love.js"></script>



<!-- back to top -->

	<div id="totop">
	<span class="icon-circle-up"></span>
</div>



<!-- site analysis -->


	<!-- site-analysis -->
	
	
	
	
	
 

<!-- leancloud -->


	<!-- leancloud -->
	<!--
	时间：2018-11-27
	描述：
		文章访问量：visitors
		文章喜欢量：likes	
		文章排行榜：topNPost
		其他得说明：
			01-Cookie相关的函数 
				https://blog.csdn.net/somehow1002/article/details/78511541（Author：somehow1002）
			02-visitors相关的函数 
				https://blog.csdn.net/u013553529/article/details/63357382（Author：爱博客大伯）
				https://notes.doublemine.me/2015-10-21-为NexT主题添加文章阅读量统计功能.html（Author：夏末）
			03-topNPost相关的函数
				https://hoxis.github.io/hexo-next-read-rank.html（Author：hoxis）
			04-likes相关的函数，
				参考了01 & 02进行简单的设计与实现
-->


	

  

	<!--
	时间：2018-10-3
	描述：
		插件名称：hexo-generator-search-zip
		插件来源: https://github.com/SuperKieran/hexo-generator-search-zip
		代码参考：https://github.com/SuperKieran/TKL/blob/master/layout/_partial/search.ejs(Include: js & css)	
-->
<div class="popup search-popup local-search-popup scrollbar" >
	<div class="local-search-container">
		<span class="popup-btn-close">
      		ESC
   		</span>
		<div class="local-search-header">
			<div class="input-prompt">				
			</div>
			<input autocomplete="off" placeholder="Search..." type="text" id="local-search-input">
		</div>
		<div class="local-search-body">
			<div id="local-search-output"></div>
		</div>
		<div class="local-search-footer">
			<div class="topN-post">				
				
								
			</div>
		</div>
	</div>
</div>


<script src="../../../../../plugin/search/ziploader.js"></script>
<script src="../../../../../js/search.js"></script>


<script type="text/javascript">
	var search_path = 'search.json',
		zip_Path = '/search.zip',
		version_Path = '/searchVersion.txt',
		input_Trigger = 'auto',
		top_N = '2';

	themeLocalSearch({
		search_path, 
		zip_Path, 
		version_Path, 
		input_Trigger, 
		top_N
	});
</script>



<script src="../../../../../plugin/chinese/chinese.js"></script>
<script src="../../../../../plugin/imagelazyloader/yall.min.js"></script>
<script src="../../../../../plugin/imageloaded/imagesloaded.pkgd.min.js"></script>
<script src="../../../../../plugin/nicescroll/jquery.nicescroll.js"></script>
<script src="../../../../../plugin/resizediv/resizediv.js"></script>
<script src="../../../../../js/main.js"></script>

	</body>	
</html>